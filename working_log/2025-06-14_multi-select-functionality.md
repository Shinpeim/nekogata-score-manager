# 複数選択機能の実装

## 実装日時
2025-06-14

## 実装内容

### Score Explorerに複数選択機能を追加

#### 主な機能
1. **チェックボックスによる複数選択**
   - 各楽譜項目にチェックボックスを追加
   - 個別選択・選択解除が可能

2. **全選択/選択解除機能**
   - ヘッダーに「全選択」「選択解除」ボタンを配置
   - ワンクリックで全楽譜の選択状態を切り替え

3. **一括削除機能**
   - 選択された楽譜を一括で削除
   - 確認ダイアログで誤削除を防止
   - 削除実行後は選択状態をリセット

4. **一括エクスポート機能**
   - 選択された楽譜をまとめてエクスポート
   - JSONファイルとしてダウンロード

#### 技術的な実装
- **状態管理**: Zustandストアに`selectedScoreIds`配列を追加
- **UI更新**: ScoreExplorerコンポーネントを大幅に改修
- **アクション実装**: 選択・削除・エクスポートの各機能を統合

#### ファイル変更
- `src/stores/scoreStore.ts`: 選択状態管理の追加
- `src/components/ScoreExplorer.tsx`: UI全体の改修
- 機能統合により、既存のエクスポート・インポートボタンをメインペインから削除

## BPM視覚インジケータの実装

### テンポの視覚的表示
- ChordChartコンポーネントにBPM点滅アニメーションを追加
- 設定されたBPMに応じた点滅間隔で動的にアニメーション
- CSS animationを使用した軽量な実装

#### 実装詳細
- `src/components/ChordChart.tsx`: BPMインジケータコンポーネントを追加
- TailwindCSSの`animate-pulse`をベースにカスタムアニメーション
- BPM値から計算された点滅間隔でのリアルタイム表示

## その他の改善
- UI/UXの向上: 選択状態の視覚的フィードバック強化
- エラーハンドリング: 削除・エクスポート処理の例外処理追加
- コード品質: TypeScript型安全性の維持

## テスト状況
- 手動テストで基本機能を確認
- 複数選択・削除・エクスポートの動作を検証

## 今後の課題
- 自動化テストの追加
- パフォーマンスの最適化
- アクセシビリティの向上